{"version":3,"sources":["components/Modal/Modal.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["ModalWindow","show","count","handleStartClick","Modal","dialogClassName","aria-labelledby","Header","Title","id","Body","Button","variant","onClick","App","initialState","record","Number","localStorage","getItem","area","useState","xy","setXY","Math","round","random","xTarget","setXTarget","yTarget","setYTarget","error","setError","setCount","time","setTime","setShow","setRecord","direction","useRef","cell","raw","intervalID","NaN","isMoved","newRecord","setItem","toString","useEffect","firstEl","length","prev","newCoords","newCell","unshift","newTarget","isTarget","newXTarg","newYTarg","forEach","coord","slice","console","log","arrowClick","key","current","window","addEventListener","removeEventListener","moveFn","moveDown","newCoord","newPoint","JSON","parse","stringify","push","array","isError","testFn","setInterval","clearInterval","i","clear","className","map","rawItem","idxRaw","idxCell","uuidv4","isActive","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.45d046d9.chunk.js","sourcesContent":["import React from 'react'\nimport { Modal, Button } from 'react-bootstrap';\n\ninterface IModalWindow {\n  show: boolean;\n  count: number;\n  handleStartClick: () => void;\n}\n\nfunction ModalWindow({ show, count, handleStartClick }: IModalWindow) {\n  return (\n    <Modal\n      show={show}\n      dialogClassName=\"modal-90w\"\n      aria-labelledby=\"example-custom-modal-styling-title\"\n    >\n      <Modal.Header>\n        <Modal.Title id=\"example-custom-modal-styling-title\">\n          Your results: {count} points\n          </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Button variant=\"success\" onClick={handleStartClick}>Try again</Button>\n      </Modal.Body>\n    </Modal>\n  )\n}\n\nexport default ModalWindow\n\n","import { useState, useEffect, useRef } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { Button } from 'react-bootstrap';\n\nimport ModalWindow from './components/Modal/Modal'\nimport \"./App.css\";\n\ninterface IState {\n  record: number;\n  area: number;\n}\n\nfunction App() {\n  const initialState: IState = {\n    record: Number(localStorage.getItem('record')) || 0,\n    area : 10,\n  };\n  const [xy, setXY] = useState([\n    [3, 3],\n    [3, 4],\n    [4, 4],\n  ]);\n  const [xTarget, setXTarget] = useState(Math.round(Math.random() * 14));\n  const [yTarget, setYTarget] = useState(Math.round(Math.random() * 14));\n  const [area, setArea] = useState(initialState.area)\n  const [error, setError] = useState(false);\n  const [count, setCount] = useState(0);\n  const [time, setTime] = useState(450);\n  const [show, setShow] = useState(false);\n  const [record, setRecord] = useState(initialState.record)\n\n  let direction = useRef('');\n  const cell = [];\n  const raw = [];\n  let intervalID = useRef(NaN);\n  let isMoved = useRef(true);\n\n  const newRecord = () => {\n    if (count > record) {\n      setRecord(count);\n      localStorage.setItem('record', count.toString())\n    }\n  }\n\n  useEffect(() => {\n    const newTarget = () => {\n      let isTarget = false;\n      let newXTarg = Math.round(Math.random() * 14);\n      let newYTarg = Math.round(Math.random() * 14);\n      xy.forEach((coord) => {\n        if (coord[0] === newXTarg && coord[1] === newYTarg) {\n          isTarget = true;\n          newTarget();\n          return;\n        }\n      });\n      if (isTarget) return;\n      setXTarget(newXTarg);\n      setYTarget(newYTarg);\n    };\n\n    const firstEl = xy[xy.length - 1];\n\n    if (firstEl[0] === xTarget && firstEl[1] === yTarget) {\n      setCount((prev) => prev + Math.round(xy.length * 1000 / time));\n      setXY((prev) => {\n        let newCoords = [...prev];\n        let newCell = [...newCoords[0]];\n        newCoords.unshift(newCell);\n        return [...newCoords];\n      });\n\n      newTarget();\n\n      setTime((prev) => Math.round(prev * 0.96));\n      return;\n    }\n\n    xy.slice(0, xy.length - 2).forEach((coord) => {\n      if (firstEl[0] === coord[0] && firstEl[1] === coord[1]) {\n        setError(true);\n        newRecord();\n        setShow(true);\n        return console.log(\"ERRORR!!!!\");\n      }\n    });\n  }, [xTarget, xy, yTarget]);\n\n  interface IProp {\n    key: string;\n  }\n\n  useEffect(() => {\n    const arrowClick = ({ key }: IProp) => {\n      if (!isMoved.current) {\n        return\n      }\n      if (key === \"ArrowDown\") {\n        if (direction.current === \"ArrowUp\") {\n          return;\n        }\n\n        direction.current = \"ArrowDown\";\n      }\n\n      if (key === \"ArrowUp\") {\n        if (direction.current === \"ArrowDown\") {\n          return;\n        }\n\n        direction.current = \"ArrowUp\";\n      }\n\n      if (key === \"ArrowRight\") {\n        if (direction.current === \"ArrowLeft\") {\n          return;\n        }\n\n        direction.current = \"ArrowRight\";\n      }\n\n      if (key === \"ArrowLeft\") {\n        if (direction.current === \"ArrowRight\") {\n          return;\n        }\n\n        direction.current = \"ArrowLeft\";\n      }\n\n      isMoved.current = false;\n    };\n\n    window.addEventListener(\"keydown\", arrowClick);\n    return () => {\n      window.removeEventListener(\"keydown\", arrowClick);\n    };\n  }, [error]);\n\n\n\n  useEffect(() => {\n    if (error) {\n      clearInterval(intervalID.current);\n      return;\n    }\n    const testFn = (array: number[][]) => {\n      let isError = false;\n      const firstEl = array[array.length - 1];\n      array.slice(0, array.length - 2).forEach((coord) => {\n        if (firstEl[0] === coord[0] && firstEl[1] === coord[1]) {\n          setError(true);\n          newRecord();\n          setShow(true);\n          return (isError = true);\n        }\n      });\n      return isError;\n    };\n\n    const moveFn = (moveDown: string) => {\n      setXY((prev) => {\n        let newCoord = prev.slice(1);\n        let newPoint = JSON.parse(JSON.stringify(newCoord[newCoord.length - 1]));\n        // eslint-disable-next-line default-case\n        switch (moveDown) {\n          case \"ArrowRight\":\n            newPoint[0] += 1;\n            break;\n\n          case \"ArrowLeft\":\n            newPoint[0] -= 1;\n            break;\n\n          case \"ArrowDown\":\n            newPoint[1] += 1;\n            break;\n\n          case \"ArrowUp\":\n            newPoint[1] -= 1;\n            break;\n        }\n\n        if (newPoint[0] > 14 || newPoint[1] > 14 || newPoint[0] < 0 || newPoint[1] < 0) {\n          setError(() => true);\n          newRecord();\n          setShow(true);\n          return prev;\n        }\n\n        isMoved.current = true\n        newCoord.push(newPoint);\n\n        return testFn(newCoord) ? prev : newCoord;\n      });\n    };\n\n    intervalID.current = window.setInterval(() => {\n      switch (direction.current) {\n        case \"ArrowDown\":\n          moveFn(\"ArrowDown\")\n          break;\n        case \"ArrowUp\":\n          moveFn(\"ArrowUp\")\n          break;\n        case \"ArrowRight\":\n          moveFn(\"ArrowRight\")\n          break;\n        case \"ArrowLeft\":\n          moveFn(\"ArrowLeft\")\n          break;\n      }\n    }, time);\n    return () => {\n      clearInterval(intervalID.current);\n    };\n  }, [error, time]);\n\n  const handleStartClick = () => {\n    setError(false);\n\n    setCount(0);\n    setTime(450);\n    setShow(false);\n    setXY([\n      [3, 3],\n      [3, 4],\n      [4, 4],\n    ]);\n    direction.current = '';\n  }\n\n  const handleClearRecord = () => {\n    setRecord(0);\n    localStorage.clear();\n  }\n\n  for (let i = 0; i < 15; i++) {\n    cell.push(i);\n  }\n\n  for (let i = 0; i < 15; i++) {\n    raw.push(cell);\n  }\n\n  return (\n    <>\n      <h1>Record: {record}</h1>\n      <Button variant=\"success\" onClick={handleClearRecord}>Clear record</Button>\n      <div className=\"wrapper\">\n        <ul>\n          {raw.map((rawItem, idxRaw) => (\n            <li key={uuidv4()}>\n              {rawItem.map((cell, idxCell) => {\n                if (idxRaw === yTarget && idxCell === xTarget) {\n                  return <div key={uuidv4()} className=\"cell target\"></div>;\n                }\n                let isActive = false;\n                xy.forEach((coord) => {\n                  if (coord[0] === idxCell && coord[1] === idxRaw) {\n                    isActive = true;\n                  }\n                });\n                return <div key={uuidv4()} className={isActive ? \"cell isActive\" : \"cell\"}></div>;\n              })}\n            </li>\n          ))}\n        </ul>\n        <h1>Points: {count}</h1>\n      </div>\n      <ModalWindow show={show} count={count} handleStartClick={handleStartClick}/>\n    </>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n    <App />,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}